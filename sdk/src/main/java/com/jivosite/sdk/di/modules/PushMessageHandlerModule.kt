package com.jivosite.sdk.di.modulesimport com.jivosite.sdk.api.PushApiimport com.jivosite.sdk.push.RemoteMessageHandlerimport com.jivosite.sdk.push.handler.DefaultPushMessageHandlerimport com.jivosite.sdk.push.handler.PushMessageDelegateimport com.jivosite.sdk.push.handler.PushMessageHandlerimport com.jivosite.sdk.push.handler.delegates.TextMessageDelegateimport com.jivosite.sdk.support.async.Schedulersimport com.squareup.moshi.Moshiimport dagger.Bindsimport dagger.Moduleimport dagger.Providesimport dagger.multibindings.IntoMapimport dagger.multibindings.StringKey/** * Created on 31.05.2021. * * @author Alexander Tavtorkin (av.tavtorkin@gmail.com) */@Module(includes = [PushMessageHandlerModule.Bindings::class])class PushMessageHandlerModule {    @Module    interface Bindings {        @Binds        @IntoMap        @StringKey(PushMessageDelegate.MESSAGE)        fun provideTextMessageDelegate(delegate: TextMessageDelegate): PushMessageDelegate    }    @Provides    fun providePushMessageHandler(        delegates: Map<String, @JvmSuppressWildcards PushMessageDelegate>,    ): PushMessageHandler {        return DefaultPushMessageHandler(delegates)    }    @Provides    fun providerRemoteMessageHandler(        moshi: Moshi,        pushMessageHandler: PushMessageHandler,        schedulers: Schedulers,        pushApi: PushApi    ): RemoteMessageHandler = RemoteMessageHandler(moshi, pushMessageHandler, schedulers, pushApi)}