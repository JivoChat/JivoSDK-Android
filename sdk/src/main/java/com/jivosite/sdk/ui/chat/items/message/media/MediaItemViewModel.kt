package com.jivosite.sdk.ui.chat.items.message.mediaimport androidx.lifecycle.Transformationsimport com.jivosite.sdk.model.repository.agent.AgentRepositoryimport com.jivosite.sdk.model.repository.media.MediaRepositoryimport com.jivosite.sdk.support.vm.AbsentLiveDataimport com.jivosite.sdk.ui.chat.items.HistoryMessageEntryimport com.jivosite.sdk.ui.chat.items.message.general.MessageItemViewModelimport javax.inject.Inject/** * Created on 23.10.2021. * * @author Alexander Tavtorkin (tavtorkin@jivosite.com) */open class MediaItemViewModel<T : HistoryMessageEntry> @Inject constructor(    agentRepository: AgentRepository,    private val mediaRepository: MediaRepository) : MessageItemViewModel<T>(agentRepository) {    val state = Transformations.switchMap(_entry) {        val path = it?.data        if (path.isNullOrEmpty()) {            AbsentLiveData.create()        } else {            mediaRepository.getMediaItemState(path)        }    }}